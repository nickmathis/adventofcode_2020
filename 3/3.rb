map = ['....#...............##...#...#.', '#...#..#.....##.##.#.##....#...', '...#.....#...#.................', '#..#..#.......#...#.#..........', '...##..#.#..........##...#.....', '........###.#.##..#............', '...###......##.#..#.#...#.#....', '......##..#.#....#...#.........', '.................#......#......', '..............##....#..........', '#.....................#...#.#.#', '.##..#............##...##.##..#', '.....#.####...#..##......#.#..#', '#.......#.#..#......##.#.#....#', '.....##...###.#..........##....', '#...........#.##....##.....#..#', '..###..##.##.....#....#........', '...#.#.#............#.#..#....#', '#......#....#...##.#.#.#.#..#..', '.......#.#...#..#..#..##......#', '.....#..#.............#..#...#.', '##..#.##.....#........#........', '....##....#..#...........#...#.', '.......#........##.......##....', '..##...#.......#........##.#...', '..........#..#.....##........#.', '..#..##..#............#........', '.#.#...#...#.......#......#....', '....#....#.....#.#.........###.', '.............#...#....#..#.#...', '##.#...#..#......#.#.##.....#..', '#...##.#..........#..#.#...#...', '#####.......#.#.....#..#.......', '#...#...#........#....#...#....', '......##.#..#..#............#..', '....#....#.......#...###.......', '.#......##...#.##....#...#.....', '..#....#...##.....#.#...##.#...', '#.......#........#.####........', '#.##..#..#.........#.#........#', '.#...#.#.#.#......#....#.#..#..', '#...####...##.##.#....#......##', '..#...#......##........#.....#.', '...#.#....##...................', '...##................#.........', '...##.....##........#....#..#..', '.........#..#.....#............', '.#..#.......................#..', '.#.........#..##........#.#.#.#', '......#.....##..#.##...#..#.##.', '..#..............##.......#....', '...............##....#...##..#.', '###...#..###.........#...#.....', '...#..#...#....#.....##........', '....#..##...#........#.........', '..#......#.......#.....#..#....', '.#...........##.....###....#...', '.#..#.....##.........##.....#..', '....##.#.....#................#', '..#..#......#.#..#....#..##....', '#.....#...##............#......', '.#.............#....#.......#..', '#.........#..#...##.#...#.#.##.', '...#......#..####....#.#.....#.', '......#........#..........##.##', '......##.#..##.##.....#........', '##.....#..##.##..#.......##....', '.##.........#...........#...#..', '.....#...###..#...#...........#', '..........#.#......#.###.....#.', '...#.............#.##......##..', '#.##.........#..###...........#', '....#..##....#..#..#........###', '...#........##.......##..#..#..', '...#......#..#.#...............', '#......###....#.#..#.#..#....#.', '#.#.####.#.........#..#.#.#....', '.....#....#...............#...#', '.#........#......#.#...#.......', '................#...#.....##...', '.............#...####..........', '.................##....##.###..', '#................#......#......', '.###.#........#..##.....#..###.', '..#.#..#...#..#.#...#.#.....#.#', '.....#............#..##..#..#.#', '#........##.#...#.....#........', '#.#.#..###......###............', '...#..#...........##...#.....#.', '......#........#...#.#....#....', '....#..........#.#..#.#....##..', '...#.....##..#......#.#.##...#.', '.........#..#................#.', '..#....#.##.....#.......#......', '...#.....#.......##.##.....#...', '#...#..............#..###..#...', '#.#......#.#....#........##..#.', '...#...##...##..#.........#....', '..#...#......##.#.#.#....##....', '#.......#.......#..#..#........', '.........#..#.....#....#.....##', '.#......#.......#.#..#..#...#.#', '..#....#.#..#..................', '#.....####..........#.#.....#.#', '.#..#.#.#....#.#.....#.#.......', '....##......#..#.....#.#.#...#.', '...##...#......##.#....##.#....', '..#..##....#...#...........#...', '.......#........#...##.#.......', '#.#..#....##.#....##...........', '.......#............#..##..##..', '#.#.#.....#....##.#.#.#.....#..', '##...#...#.......#..#...#.....#', '##..##.##..........#........##.', '..............#.....#..#..##...', '.......#...#.........#....#.#..', '...#..#..#....#.#....##........', '..#.......#....#....##.........', '#...#.....#..#.#...##....#.....', '.....##..#..##..#..............', '.....##............#....#.#....', '..#.....#....##.#.....#..#.....', '#...#..#..#......#.#.#..##.....', '.............................##', '#...#.#................#....#.#', '.#.#.#....##......###..##......', '#.....#..#.##.#.#.##...###.....', '.........#............##..#....', '.#..#...#....#.....#.#........#', '...............#......#..#.....', '...................###........#', '.###..##..##.......#.#.........', '#.........#......#....#.#...#..', '.#.#....#.......#.#..##...##...', '.#.....#....##.......#.#.....#.', '.........#...#....#.#..........', '....###..#..##.#...##....#..#..', '...#.#..##.#.........###.#..#..', '#...#...........#....#.........', '....##...........#.#.#......###', '#....#...........##..#.........', '###....#.....#.......#....###..', '.#.......#....#.#.#.#......#.#.', '........#...............#.#.#..', '....#.........#.....#...##.##.#', '...#............#.............#', '..........#..#.................', '........#.....##............#.#', '..#...##........#...#.....#.#..', '....#........#.#.#..........#..', '#.#...#...........#............', '....#.#...##...........#.....#.', '...........#.#..#.....#........', '.....#..#..#..#.....#.#.....#.#', '#.....#.......#.......#...#....', '#.........#....#.#........#..#.', '...#..#.........#.....#..#.....', '...#..#.............#..........', '.#.......#..........#.....#...#', '.....#.#......#.......#....#...', '...#.....#..#..##....##....#...', '.#.#.#..#...#.....#....#.......', '..##.#..........#.....#.#......', '..#..#.............#...##..##..', '.#.............#..#....##...#..', '..#...#.....#.................#', '..##.......#.....#...#....#....', '.#..#.##.........#...#.#...#...', '...##.......##..#.....##.##...#', '........####.#.........#.......', '..#.#...##.#..#..#.......##.#..', '.#..#............###..#..#.....', '#.....#.#...#.#.......#........', '..........#......#.#...#...#...', '..#......#..#..#.#...#.........', '..###........#.#....#.#...##...', '.#.....#..#.#......#........#..', '.#...#..#...#....#.......#..#..', '..#....#..#.....#.#........#...', '#..#.#.........#..........#..#.', '.#.....##....#.........#.#.#.#.', '#.#...#.....#.#.#....#.#..#....', '.........#...................#.', '..#.....#..##...#..........#.#.', '..............#....#.........#.', '.#....#.....#..............##..', '#...#...#.#........##.........#', '....###....#.#....#.#.........#', '.....#........#.....##.........', '.#...##..##..#.........##......', '............#.....#........#...', '..#....#.......#......#..#.#.#.', '#.......#.#...........#..##.#..', '......#.##......#....#.......#.', '.....#........#...###.....#....', '###..........#........#.#.#....', '.....#...#.#...#...#...##.....#', '.##...#.#........#.#....#......', '......#.........#.....#.#......', '.....#.##.....###.#...#...##..#', '.#.#.......##....#..#..#.##....', '.####...###.#.#.#.#............', '......#..##...#..........#.##.#', '......#............#...........', '.....#.#..#.......##...##......', '......#........#..#....#.#.#.#.', '#..#..#.....#..#.....#.......#.', '.#...#.....#..............#....', '.#....#..#.##.#............####', '..........#....#.##...#.#......', '...#.#.#.#.#.......#.........#.', '##........#..##..#.........#...', '..#......#...#..#.#.....#......', '..#.#......#...#...#.#.........', '........................##.....', '...#.##.#........#...#.......#.', '..#.#......#....##........#.#..', '#......#.##........#..#......#.', '.....#..#..#.............#.....', '......#......#........#....#...', '...#....###.....#..#.#....#....', '#.......................#....#.', '..#...#...................#....', '....#..#.....##.#..#...#.....#.', '...#.........#...#.......#.....', '..#....#.....#...#...#.#####...', '.....####......#...........#...', '......#.#..........#...#.#.#..#', '###..#.#....#..#...............', '...#...###..#..#.#.#...........', '.....#...#.##.#.#.###..##......', '.........#...........#....##.#.', '....#..#......#................', '...........#..#..#...#.#.......', '..#.....#......##.###..........', '.........#...................#.', '..........#...#.#....##........', '..#...##....#....#.......#...##', '#......#.....#...#...#...#.....', '....##...#.#.......#.#...##....', '...#.....#....#.....#....#.....', '#....##.....##..##..........##.', '.....#.....#.#.#...............', '.#.##....#.....#.#..#....#..##.', '.....#.#.....##....#...........', '.........#..#.......##..##.....', '..#....##.....###...#....#.#...', '............#......#.#...#..#..', '#..##......#.#.##....#.#.......', '.#.#.....#...#.#.#....#.....#..', '#....#..#.#....#...#...........', '......#.#.....#...#.#.#......#.', '###..#....#.###.............#..', '..............#####........###.', '..#..#.#.#.#......#......#.....', '###.........#.#..........#..#.#', '.#.........#...#......####.....', '..#.......####..#....#...#..#..', '#.#..#.#...............#.#.#.#.', '###....#.....##.#....#......##.', '..#..#........#....###.#.#.....', '...#.#..........#.....#...#....', '....#......##.#............#..#', '...##...#.....#..##....#..#.#.#', '.......#.....#..#....#....##.#.', '.#..#....#..#......##....##...#', '..#......#...#.#..###..#.##....', '#...#.....#......##...#.......#', '.....#.#.....#...##............', '.#..##.##..#..##.#........#....', '....#.#......##...#.#.#.#..##..', '.#..............##........#....', '.##....#..#..#....#...#......#.', '............###....##.......##.', '..............####.....#.......', '........##..##.#...#.......#...', '....#..#.....##.......#####...#', '.##..##..#.....#...#..#..#....#', '##..#.#.#...........#..........', '#..#......#...#....#...........', '...#..##.#..........#..#.......', '........#.#.....#......##......', '.....#....#............#.......', '.#.#..#....##......#.......###.', '.#..#.#........#......#...##..#', '...#....#......#..#........#.##', '.........#..#...#..#.#.##......', '....###.#...........#...#......', '.##............#.......#..##...', '##...#.#...............#.#...##', '..#..#.....#.#..#..#...........', '..#..#.##..#......#.##..#.#....', '..#...#......#.#...#....##.#...', '...###....####......#....#...#.', '.......##........#.....##....#.', '.........##..........#...#.....', '.....#............#.##.#....#.#', '..........#...#....##..........', '....................#......#...', '#......#..#...#.............##.', '...........#...................', '..#...#.........#.##.#..##.#...', '#.#....#.#.....#............#..', '.#..#.....#.....####......#.#..', '#....#.......##..#...........#.', '............#...#.....#..#.#...', '#...........#...#####....#...#.', '..........#...###..##.........#', '#.....###............#..#..#.#.', '...##.....#....#......#.....#..', '#....#.......#..#......###...#.', '...##.##......##..##..........#', '.......#.#..#.#..#.#.#.#..#..#.', '..#..###...#....#.....#......#.', '...#.........#..#.##.#.....###.', '..#.........#.##.#..#..#..###..', '..####..#.........#.........#.#', '..#.#...#.......#....##........', '.#......#.#....................', '..........#.......#.#..#..#....', '..#........#....#.#..#.........', '..#.....#.............#....#...', '##...#.........#.....#...#.....']

test_map = ['..##.......', '#...#...#..', '.#....#..#.', '..#.#...#.#', '.#...##..#.', '..#.##.....', '.#.#.#....#', '.#........#', '#.##...#...', '#...##....#', '.#..#...#.#']
def find_trees(map, x, y)
  trees = 0
  map.each_with_index do |line, i|
    next if i % y > 0
    trees += 1 if line[(x * (i)) % line.size] == '#'
  end
  trees
end

find_trees(map, 1, 1) *  find_trees(map, 3, 1) *   find_trees(map, 5, 1) *   find_trees(map, 7, 1) *  find_trees(map, 1, 2)
